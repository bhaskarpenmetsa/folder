pipeline:
   agent:
     any:
   stages:
      - stage: "log jenkins Maven java and git versions"
        steps:
           - sh "mvn --version"
           - sh "java -version"
           - sh "git --version"
      - stage: "sonarqube-sast"
        steps:
           - withSonarQubeEnv "SonarQube"
           "sonar.projectKey=Shoppingcart"
           "sonar.organization=jenkins-test"
           "sonar.sources=Shoppingcart/src"
           "sonar.java.binaries=Shoppingcart/build/classes/Flexib/"
      - stage: "Testing with jmeter"
        steps:
           - git "https://github.com/harishpallapu/folder.git"
           - sh "chmod -R 777 *"
           - sh "./apache-jmeter-5.4.1/apache-jmeter-5.4.1/bin/jmeter -n -t OnlineShop_1.jmx -l OnlineShop_result_${BUILD_NUMBER}.jtl -e -o OnlineShop_1_${BUILD_NUMBER}.html"
           - sh "ls"
      - stage: "final jenkins YAML pipeline stage"
        steps:
           - sh "echo 'jenkins YAML pipeline complete'"
